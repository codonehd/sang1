2025-05-20 21:09:52,579 - AppLogger - INFO - logger:84 - 로깅 시스템 초기화 완료 (콘솔 및 파일 핸들러)
2025-05-20 21:09:52,590 - AppLogger - INFO - logger:84 - Using settings file: settings.json
2025-05-20 21:09:52,590 - AppLogger - INFO - logger:84 - 프로그램 시작 (콘솔 모드)
2025-05-20 21:09:52,591 - AppLogger - DEBUG - logger:81 - ScreenManager 초기화 완료. 사용 가능 화면: 100개 (2000~2099)
2025-05-20 21:09:52,591 - AppLogger - INFO - logger:84 - ScreenManager 단일 인스턴스 생성 완료
2025-05-20 21:09:52,658 - AppLogger - INFO - logger:84 - Using settings file: settings.json
2025-05-20 21:09:52,658 - AppLogger - INFO - logger:84 - 데이터베이스 (logs/trading_data.test.db) 초기화 성공
2025-05-20 21:09:52,658 - AppLogger - INFO - logger:84 - 데이터베이스 초기화 완료
2025-05-20 21:09:52,674 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 전략 설정 로딩 시작...
2025-05-20 21:09:52,680 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 장운영시간 설정: 시작(09:00:00), 종료(15:30:00)
2025-05-20 21:09:52,681 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 전략 설정 로드 완료: StrategySettings(buy_amount_per_stock=1000000.0, stop_loss_rate_from_yesterday_close=2.0, partial_take_profit_rate=5.0, full_take_profit_target_rate=9.0, partial_sell_ratio=50, trailing_stop_activation_profit_rate=2.0, trailing_stop_fall_rate=1.5, market_open_time_str='09:00:00', market_close_time_str='15:30:00', periodic_report_enabled=True, periodic_report_interval_seconds=60, max_daily_buy_count=10, cancel_pending_orders_on_exit=True, auto_liquidate_after_minutes_enabled=False, auto_liquidate_after_minutes=60)
2025-05-20 21:09:52,682 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 전략 설정 로드 완료.
2025-05-20 21:09:52,682 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 장운영시간 초기화: 09:00:00 - 15:30:00
2025-05-20 21:09:52,683 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] TradingStrategy 객체 생성 완료. 추가 초기화가 필요합니다.
2025-05-20 21:09:52,683 - AppLogger - INFO - logger:84 - 매매 전략 초기화 (KiwoomAPI 주입 전, ScreenManager 주입 완료)
2025-05-20 21:09:52,684 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] 키움 API 초기화 시작
2025-05-20 21:09:52,700 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] ScreenManager 초기화 완료 (외부 제공: True, OCX 전달됨)
2025-05-20 21:09:52,700 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] TR 요청 간격 설정됨: 기본 0.21초, 연속 1.0초
2025-05-20 21:09:52,700 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] 설정에서 계좌 비밀번호 로드: 비밀번호 없음
2025-05-20 21:09:52,703 - AppLogger - INFO - logger:84 - KiwoomAPI 초기화 및 Strategy에 주입 완료
2025-05-20 21:09:52,704 - AppLogger - INFO - logger:84 - 키움 API 로그인 시도
2025-05-20 21:09:52,704 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] 로그인 처리 시작...
2025-05-20 21:09:52,704 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] 설정 파일에서 계좌번호 사용: 8101891811
2025-05-20 21:09:52,704 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] 가상 로그인 성공. 계좌번호: 8101891811
2025-05-20 21:09:52,705 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] Strategy의 _on_login_completed 호출 예정 (비동기)
2025-05-20 21:09:52,705 - AppLogger - INFO - logger:84 - 키움 API 로그인 성공
2025-05-20 21:09:52,706 - AppLogger - INFO - logger:84 - 매매 전략 최종 초기화 완료
2025-05-20 21:09:52,754 - AppLogger - INFO - logger:84 - 설정 파일에서 11개의 관심종목 로드 및 전략에 추가 시작...
2025-05-20 21:09:52,754 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 1: 코드(253840), 이름(수젠텍), 전일종가(7160.0)
2025-05-20 21:09:52,755 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(253840), 이름(수젠텍), 설정된 전일종가(7160.0)
2025-05-20 21:09:52,755 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 수젠텍(253840), 전일종가: 7160.0, 초기상태: WAITING
2025-05-20 21:09:52,755 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(253840) - 현재 self.watchlist에 1개 항목
2025-05-20 21:09:52,756 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 2: 코드(376900), 이름(로킷헬스케어), 전일종가(19950.0)
2025-05-20 21:09:52,756 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(376900), 이름(로킷헬스케어), 설정된 전일종가(19950.0)
2025-05-20 21:09:52,756 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 로킷헬스케어(376900), 전일종가: 19950.0, 초기상태: WAITING
2025-05-20 21:09:52,757 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(376900) - 현재 self.watchlist에 2개 항목
2025-05-20 21:09:52,757 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 3: 코드(389260), 이름(대명에너지), 전일종가(24900.0)
2025-05-20 21:09:52,758 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(389260), 이름(대명에너지), 설정된 전일종가(24900.0)
2025-05-20 21:09:52,758 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 대명에너지(389260), 전일종가: 24900.0, 초기상태: WAITING
2025-05-20 21:09:52,758 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(389260) - 현재 self.watchlist에 3개 항목
2025-05-20 21:09:52,758 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 4: 코드(032940), 이름(원익), 전일종가(3790.0)
2025-05-20 21:09:52,759 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(032940), 이름(원익), 설정된 전일종가(3790.0)
2025-05-20 21:09:52,759 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 원익(032940), 전일종가: 3790.0, 초기상태: WAITING
2025-05-20 21:09:52,759 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(032940) - 현재 self.watchlist에 4개 항목
2025-05-20 21:09:52,760 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 5: 코드(086060), 이름(진바이오텍), 전일종가(4115.0)
2025-05-20 21:09:52,760 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(086060), 이름(진바이오텍), 설정된 전일종가(4115.0)
2025-05-20 21:09:52,760 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 진바이오텍(086060), 전일종가: 4115.0, 초기상태: WAITING
2025-05-20 21:09:52,761 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(086060) - 현재 self.watchlist에 5개 항목
2025-05-20 21:09:52,761 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 6: 코드(217330), 이름(싸이토젠), 전일종가(4405.0)
2025-05-20 21:09:52,761 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(217330), 이름(싸이토젠), 설정된 전일종가(4405.0)
2025-05-20 21:09:52,761 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 싸이토젠(217330), 전일종가: 4405.0, 초기상태: WAITING
2025-05-20 21:09:52,762 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(217330) - 현재 self.watchlist에 6개 항목
2025-05-20 21:09:52,762 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 7: 코드(246250), 이름(에스엘에스바이오), 전일종가(2420.0)
2025-05-20 21:09:52,762 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(246250), 이름(에스엘에스바이오), 설정된 전일종가(2420.0)
2025-05-20 21:09:52,762 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 에스엘에스바이오(246250), 전일종가: 2420.0, 초기상태: WAITING
2025-05-20 21:09:52,763 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(246250) - 현재 self.watchlist에 7개 항목
2025-05-20 21:09:52,763 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 8: 코드(291650), 이름(압타머사이언스), 전일종가(1046.0)
2025-05-20 21:09:52,763 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(291650), 이름(압타머사이언스), 설정된 전일종가(1046.0)
2025-05-20 21:09:52,763 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 압타머사이언스(291650), 전일종가: 1046.0, 초기상태: WAITING
2025-05-20 21:09:52,764 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(291650) - 현재 self.watchlist에 8개 항목
2025-05-20 21:09:52,764 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 9: 코드(005930), 이름(삼성전자), 전일종가(70000.0)
2025-05-20 21:09:52,764 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(005930), 이름(삼성전자), 설정된 전일종가(70000.0)
2025-05-20 21:09:52,765 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 삼성전자(005930), 전일종가: 70000.0, 초기상태: WAITING
2025-05-20 21:09:52,765 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(005930) - 현재 self.watchlist에 9개 항목
2025-05-20 21:09:52,765 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 10: 코드(035720), 이름(카카오), 전일종가(49000.0)
2025-05-20 21:09:52,766 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(035720), 이름(카카오), 설정된 전일종가(49000.0)
2025-05-20 21:09:52,766 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: 카카오(035720), 전일종가: 49000.0, 초기상태: WAITING
2025-05-20 21:09:52,766 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(035720) - 현재 self.watchlist에 10개 항목
2025-05-20 21:09:52,767 - AppLogger - DEBUG - logger:81 - [MAIN_WATCHLIST_ADD] 항목 11: 코드(105560), 이름(AP시스템), 전일종가(98000.0)
2025-05-20 21:09:52,767 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_START] 관심종목 추가/업데이트 시작: 코드(105560), 이름(AP시스템), 설정된 전일종가(98000.0)
2025-05-20 21:09:52,767 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 관심종목 신규 추가: AP시스템(105560), 전일종가: 98000.0, 초기상태: WAITING
2025-05-20 21:09:52,767 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [WATCHLIST_ADD_END] 관심종목 추가/업데이트 완료: 코드(105560) - 현재 self.watchlist에 11개 항목
2025-05-20 21:09:52,767 - AppLogger - INFO - logger:84 - 11개의 관심종목이 전략에 추가되었습니다.
2025-05-20 21:09:52,768 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] TradingStrategy 시작 요청 접수...
2025-05-20 21:09:52,768 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_DEBUG] ENTERING start() method. is_running=False, init_status={'account_info_loaded': False, 'deposit_info_loaded': False, 'portfolio_loaded': False, 'settings_loaded': True, 'market_hours_initialized': True}, watchlist_items=11
2025-05-20 21:09:52,768 - AppLogger - ERROR - logger:90 - [Strategy][2025-05-20 21:09:52] 시작 실패: 계좌번호가 로드되지 않았습니다.
2025-05-20 21:09:52,769 - AppLogger - INFO - logger:84 - 매매 전략 시작됨. Ctrl+C로 종료하세요.
2025-05-20 21:09:52,770 - AppLogger - INFO - logger:84 - Ctrl+C (SIGINT) 핸들러 최종 설정 완료. 이벤트 루프 시작 직전.
2025-05-20 21:09:52,806 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_LOGIN_DEBUG] _on_login_completed 호출됨. account_number_from_signal: '8101891811'
2025-05-20 21:09:52,807 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] API로부터 계좌번호 수신: '8101891811'
2025-05-20 21:09:52,807 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 최종 계좌번호 설정(TradingStrategy & KiwoomAPI): '8101891811'. 계좌 정보 요청 시작.
2025-05-20 21:09:52,808 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 예수금 상세정보 요청 시작 (opw00001). 계좌번호: 8101891811
2025-05-20 21:09:52,808 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='account_info' -> ScreenNo='2000'. 사용중: 1, 사용가능: 99
2025-05-20 21:09:52,809 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [KiwoomAPI] comm_rq_data PARAMS CHECK: rq_name='예수금상세현황요청', tr_code='opw00001', input_values_override IS NOT None, market_context='None'
2025-05-20 21:09:52,809 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [KiwoomAPI] comm_rq_data PARAMS CHECK: input_values_override CONTENT: {'계좌번호': '8101891811', '비밀번호': '', '비밀번호입력매체구분': '00', '조회구분': '2'}
2025-05-20 21:09:52,809 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] TR 요청 (예수금상세현황요청, opw00001) 가상 처리 시작...
2025-05-20 21:09:52,809 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] TR 요청 '예수금상세현황요청'에 대한 캐시 준비 완료 (status: pending_dry_run_callback).
2025-05-20 21:09:52,811 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] opw00001 TR에 대한 가상 응답 콜백이 예약되었습니다 (RQName: 예수금상세현황요청, ScreenNo: 2000).
2025-05-20 21:09:52,811 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] opw00001 TR 요청 전송 완료. 요청명: 예수금상세현황요청, 화면번호: 2000
2025-05-20 21:09:52,811 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 계좌 포트폴리오 정보 요청 시작 (opw00018). 계좌번호: 8101891811
2025-05-20 21:09:52,812 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='portfolio_info' -> ScreenNo='2001'. 사용중: 2, 사용가능: 98
2025-05-20 21:09:52,812 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [KiwoomAPI] comm_rq_data PARAMS CHECK: rq_name='계좌잔고조회_8101891811', tr_code='opw00018', input_values_override IS NOT None, market_context='None'
2025-05-20 21:09:52,812 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [KiwoomAPI] comm_rq_data PARAMS CHECK: input_values_override CONTENT: {'계좌번호': '8101891811', '비밀번호': '', '비밀번호입력매체구분': '00', '조회구분': '1'}
2025-05-20 21:09:52,813 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] TR 요청 (계좌잔고조회_8101891811, opw00018) 가상 처리 시작...
2025-05-20 21:09:52,813 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] TR 요청 '계좌잔고조회_8101891811'에 대한 캐시 준비 완료 (status: pending_dry_run_callback).
2025-05-20 21:09:52,813 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] opw00018 TR에 대한 가상 응답 콜백이 예약되었습니다 (RQName: 계좌잔고조회_8101891811, ScreenNo: 2001).
2025-05-20 21:09:52,814 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] opw00018 TR 요청 전송 완료. 요청명: 계좌잔고조회_8101891811, 화면번호: 2001
2025-05-20 21:09:52,860 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] _emulate_tr_receive_for_dry_run 호출됨: ScreenNo='2000', RQName='예수금상세현황요청', TRCode='opw00001'
2025-05-20 21:09:52,861 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] 가상 응답 생성 시작. 원본 입력값: {'계좌번호': '8101891811', '비밀번호': '', '비밀번호입력매체구분': '00', '조회구분': '2'}
2025-05-20 21:09:52,861 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] opw00001 가상 데이터 생성 완료.
2025-05-20 21:09:52,862 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] 예수금상세현황요청 캐시 상태 업데이트: simulating_callback
2025-05-20 21:09:52,862 - AppLogger - CRITICAL - logger:93 - [KiwoomAPI] [EVENT_HANDLER_ENTRY] on_receive_tr_data: Scr='2000', RQ='예수금상세현황요청', TR='opw00001', PrevNext='0', ErrCode='0', Msg='DRYRUN_OK'
2025-05-20 21:09:52,862 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] _parse_tr_data: TR Code 'opw00001', RQName '예수금상세현황요청'
2025-05-20 21:09:52,864 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] _parse_tr_data 완료: TR(opw00001), RQName(예수금상세현황요청), SingleDataKeys(14), MultiDataCount(0)
2025-05-20 21:09:52,864 - AppLogger - INFO - logger:84 - [KiwoomAPI] opw00001 (계좌정보) 수신 및 저장: 예수금() - RQ: 예수금상세현황요청
2025-05-20 21:09:52,865 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] TR 데이터 수신 시작 - rq_name: 예수금상세현황요청, tr_code: opw00001, 연속조회: 0
2025-05-20 21:09:52,865 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] TR 수신 (opw00001) - 예수금 데이터 (요약 로깅)
2025-05-20 21:09:52,865 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 예수금 정보 업데이트 (opw00001): {'예수금': 0.0, 'd+1추정예수금': '', 'd+2추정예수금': 0.0, '출금가능금액': '', '미수금': '', '대용금': '', '권리대용금': '', '주문가능금액': '', '예탁자산평가액': '', '총매입금액': 0.0, '총평가금액': 0.0, '총손익금액': '', '총손익률': '', '총재사용금액': '', '계좌번호': '8101891811'}
2025-05-20 21:09:52,866 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] opw00001 핸들러 완료. deposit_info_loaded: True
2025-05-20 21:09:52,866 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_INTERNAL] _check_all_data_loaded_and_start_strategy 호출됨. is_running: False
2025-05-20 21:09:52,866 - AppLogger - WARNING - logger:87 - [Strategy][2025-05-20 21:09:52] 계좌, 예수금 또는 포트폴리오 정보가 아직 모두 로드되지 않아 전략을 시작할 수 없습니다.
2025-05-20 21:09:52,867 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] 누락된 초기 정보: 포트폴리오
2025-05-20 21:09:52,867 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 예수금 정보 로드 완료.
2025-05-20 21:09:52,867 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 예수금 로드 완료. 포트폴리오 정보 로딩 대기 중...
2025-05-20 21:09:52,867 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_INTERNAL] _check_all_data_loaded_and_start_strategy 호출됨. is_running: False
2025-05-20 21:09:52,868 - AppLogger - WARNING - logger:87 - [Strategy][2025-05-20 21:09:52] 계좌, 예수금 또는 포트폴리오 정보가 아직 모두 로드되지 않아 전략을 시작할 수 없습니다.
2025-05-20 21:09:52,868 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] 누락된 초기 정보: 포트폴리오
2025-05-20 21:09:52,868 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] TR(opw00001, RQ='예수금상세현황요청') 단일/최종 응답. 화면번호(2000) 반환 예정.
2025-05-20 21:09:52,869 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2000', Identifier='예수금상세현황요청'. 사용중: 1, 사용가능: 99
2025-05-20 21:09:52,869 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] on_receive_tr_data 가상 호출 완료 for 예수금상세현황요청.
2025-05-20 21:09:52,869 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] _emulate_tr_receive_for_dry_run 호출됨: ScreenNo='2001', RQName='계좌잔고조회_8101891811', TRCode='opw00018'
2025-05-20 21:09:52,870 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] 가상 응답 생성 시작. 원본 입력값: {'계좌번호': '8101891811', '비밀번호': '', '비밀번호입력매체구분': '00', '조회구분': '1'}
2025-05-20 21:09:52,870 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] opw00018 가상 데이터 생성 완료 (보유 종목 없음 초기 상태).
2025-05-20 21:09:52,870 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] 계좌잔고조회_8101891811 캐시 상태 업데이트: simulating_callback
2025-05-20 21:09:52,870 - AppLogger - CRITICAL - logger:93 - [KiwoomAPI] [EVENT_HANDLER_ENTRY] on_receive_tr_data: Scr='2001', RQ='계좌잔고조회_8101891811', TR='opw00018', PrevNext='0', ErrCode='0', Msg='DRYRUN_OK'
2025-05-20 21:09:52,871 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] _parse_tr_data: TR Code 'opw00018', RQName '계좌잔고조회_8101891811'
2025-05-20 21:09:52,871 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] _parse_tr_data 완료: TR(opw00018), RQName(계좌잔고조회_8101891811), SingleDataKeys(9), MultiDataCount(0)
2025-05-20 21:09:52,871 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] opw00018 데이터 캐시 저장: 계좌잔고조회_8101891811 - 보유종목 0건, 총매입 
2025-05-20 21:09:52,871 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] TR 데이터 수신 시작 - rq_name: 계좌잔고조회_8101891811, tr_code: opw00018, 연속조회: 0
2025-05-20 21:09:52,871 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] TR 수신 (opw00018) - 계좌잔고 데이터 (요약 로깅)
2025-05-20 21:09:52,871 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 계좌 평가 요약 정보 업데이트 (opw00018 single_data): {'총매입금액': 0.0, '총평가금액': 0.0, '총평가손익금액': 0.0, '총수익률(%)': 0.0, '추정예탁자산': 0.0, '총대출금': '', '총융자금액': '', '총대주금액': '', '조회건수': ''}
2025-05-20 21:09:52,873 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 계좌 잔고(포트폴리오) 업데이트 (opw00018 multi_data): 0 종목
2025-05-20 21:09:52,873 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] opw00018 핸들러 완료. portfolio_loaded: True
2025-05-20 21:09:52,873 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_INTERNAL] _check_all_data_loaded_and_start_strategy 호출됨. is_running: False
2025-05-20 21:09:52,874 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] 현재 관심종목 11개 로드됨. 목록:
2025-05-20 21:09:52,874 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 수젠텍(253840): 전일종가(7160.0), 상태(WAITING)
2025-05-20 21:09:52,874 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 로킷헬스케어(376900): 전일종가(19950.0), 상태(WAITING)
2025-05-20 21:09:52,875 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 대명에너지(389260): 전일종가(24900.0), 상태(WAITING)
2025-05-20 21:09:52,875 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 원익(032940): 전일종가(3790.0), 상태(WAITING)
2025-05-20 21:09:52,875 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 진바이오텍(086060): 전일종가(4115.0), 상태(WAITING)
2025-05-20 21:09:52,875 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 싸이토젠(217330): 전일종가(4405.0), 상태(WAITING)
2025-05-20 21:09:52,877 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 에스엘에스바이오(246250): 전일종가(2420.0), 상태(WAITING)
2025-05-20 21:09:52,877 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 압타머사이언스(291650): 전일종가(1046.0), 상태(WAITING)
2025-05-20 21:09:52,877 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 삼성전자(005930): 전일종가(70000.0), 상태(WAITING)
2025-05-20 21:09:52,878 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - 카카오(035720): 전일종가(49000.0), 상태(WAITING)
2025-05-20 21:09:52,878 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52]   - AP시스템(105560): 전일종가(98000.0), 상태(WAITING)
2025-05-20 21:09:52,878 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 모든 계좌/포트폴리오/관심종목(설정) 데이터 준비 완료. 실제 전략 시작 로직 수행.
2025-05-20 21:09:52,878 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_253840' -> ScreenNo='2002'. 사용중: 2, 사용가능: 98
2025-05-20 21:09:52,879 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2002), 종목(253840), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,883 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2002)
2025-05-20 21:09:52,883 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2002, 종목: 253840) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,883 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_376900' -> ScreenNo='2003'. 사용중: 3, 사용가능: 97
2025-05-20 21:09:52,883 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2003), 종목(376900), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,886 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2003)
2025-05-20 21:09:52,886 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2003, 종목: 376900) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,886 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_389260' -> ScreenNo='2004'. 사용중: 4, 사용가능: 96
2025-05-20 21:09:52,887 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2004), 종목(389260), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,888 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2004)
2025-05-20 21:09:52,888 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2004, 종목: 389260) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,888 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_032940' -> ScreenNo='2005'. 사용중: 5, 사용가능: 95
2025-05-20 21:09:52,888 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2005), 종목(032940), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,889 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2005)
2025-05-20 21:09:52,890 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2005, 종목: 032940) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,890 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_086060' -> ScreenNo='2006'. 사용중: 6, 사용가능: 94
2025-05-20 21:09:52,890 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2006), 종목(086060), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,893 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2006)
2025-05-20 21:09:52,893 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2006, 종목: 086060) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,894 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_217330' -> ScreenNo='2007'. 사용중: 7, 사용가능: 93
2025-05-20 21:09:52,894 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2007), 종목(217330), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,896 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2007)
2025-05-20 21:09:52,896 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2007, 종목: 217330) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,897 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_246250' -> ScreenNo='2008'. 사용중: 8, 사용가능: 92
2025-05-20 21:09:52,897 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2008), 종목(246250), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,898 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2008)
2025-05-20 21:09:52,899 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2008, 종목: 246250) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,899 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_291650' -> ScreenNo='2009'. 사용중: 9, 사용가능: 91
2025-05-20 21:09:52,899 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2009), 종목(291650), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,900 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2009)
2025-05-20 21:09:52,901 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2009, 종목: 291650) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,901 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_005930' -> ScreenNo='2010'. 사용중: 10, 사용가능: 90
2025-05-20 21:09:52,901 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2010), 종목(005930), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,903 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2010)
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2010, 종목: 005930) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_035720' -> ScreenNo='2011'. 사용중: 11, 사용가능: 89
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2011), 종목(035720), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2011)
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2011, 종목: 035720) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [ScreenManager_GET] 새 화면 할당: Identifier='real_105560' -> ScreenNo='2012'. 사용중: 12, 사용가능: 88
2025-05-20 21:09:52,904 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 요청: 화면(2012), 종목(105560), FID(10;11;12;13), 타입(1)
2025-05-20 21:09:52,907 - AppLogger - INFO - logger:84 - [KiwoomAPI] 실시간 데이터 등록 성공: 화면(2012)
2025-05-20 21:09:52,907 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 실시간 데이터 구독 요청 성공 (화면: 2012, 종목: 105560) - SetRealReg 호출 자체는 성공으로 간주. 실제 구독 성공은 이벤트로 확인.
2025-05-20 21:09:52,908 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 11개 관심종목에 대한 실시간 시세 구독 요청 완료.
2025-05-20 21:09:52,909 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 날짜 변경 감지: None -> 2025-05-20. 일일 매수 횟수 초기화.
2025-05-20 21:09:52,910 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 조건 확인 타이머 시작 (주기: 2.0초).
2025-05-20 21:09:52,910 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 주기적 상태 보고 타이머 시작 (주기: 60초).
2025-05-20 21:09:52,911 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 일일 스냅샷 타이머 시작 (주기: 1.0시간).
2025-05-20 21:09:52,911 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] [STRATEGY_INTERNAL] _check_all_data_loaded_and_start_strategy: Timers started. is_running=True, is_initialized_successfully=True
2025-05-20 21:09:52,911 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 장 종료 확인, 일별 계좌 스냅샷 기록 시도: 2025-05-20
2025-05-20 21:09:52,912 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] 계좌 요약 정보: {'총매입금액': 0.0, '총평가금액': 0.0, '총평가손익금액': 0.0, '총수익률': 0.0, '추정예탁자산': 0.0, '예수금': 0.0}
2025-05-20 21:09:52,913 - AppLogger - WARNING - logger:87 - 일별 계좌 스냅샷 추가 실패: 2025-05-20 데이터 이미 존재함
2025-05-20 21:09:52,915 - AppLogger - ERROR - logger:90 - [Strategy][2025-05-20 21:09:52] 일별 계좌 스냅샷 DB 저장 실패 또는 이미 존재: 2025-05-20
2025-05-20 21:09:52,915 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] === 전략이 성공적으로 시작되었습니다. is_running: True ===
2025-05-20 21:09:52,915 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 계좌 포트폴리오 정보 로드 완료 (최종).
2025-05-20 21:09:52,915 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:09:52] 포트폴리오 로드 완료, 예수금도 이미 로드됨. 설정에서 관심종목 로드 시도.
2025-05-20 21:09:52,918 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] [STRATEGY_INTERNAL] _check_all_data_loaded_and_start_strategy 호출됨. is_running: True
2025-05-20 21:09:52,918 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:09:52] 전략이 이미 실행 중입니다. _check_all_data_loaded_and_start_strategy 중복 호출 방지.
2025-05-20 21:09:52,918 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] TR(opw00018, RQ='계좌잔고조회_8101891811') 단일/최종 응답. 화면번호(2001) 반환 예정.
2025-05-20 21:09:52,918 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2001', Identifier='계좌잔고조회_8101891811'. 사용중: 11, 사용가능: 89
2025-05-20 21:09:52,919 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] [Dry Run] on_receive_tr_data 가상 호출 완료 for 계좌잔고조회_8101891811.
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] ===== 주기적 상태 보고 (2025-05-20 21:10:52) =====
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 전략 실행 상태: 실행 중, 최종 초기화 성공: True
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 현재 상태 메시지: TR 데이터 처리 완료: opw00018 (계좌잔고조회_8101891811)
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 계좌번호: 8101891811
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 예수금 정보 로딩 중이거나 사용 불가.
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 보유 종목 (1개):
2025-05-20 21:10:52,914 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 보유 종목 없음.
2025-05-20 21:10:52,926 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 미체결 주문 없음.
2025-05-20 21:10:52,928 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 관심 종목 (11개):
2025-05-20 21:10:52,928 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 수젠텍(253840): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,930 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 로킷헬스케어(376900): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,933 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 대명에너지(389260): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,935 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 원익(032940): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,936 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 진바이오텍(086060): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,936 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 싸이토젠(217330): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,938 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 에스엘에스바이오(246250): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,940 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 압타머사이언스(291650): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,941 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 삼성전자(005930): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,942 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - 카카오(035720): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,944 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52]   - AP시스템(105560): 현재가 N/A, 상태: WAITING
2025-05-20 21:10:52,946 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] 일일 매수 실행 횟수: 0 / 10
2025-05-20 21:10:52,946 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:10:52] ===========================================
2025-05-20 21:11:52,928 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] ===== 주기적 상태 보고 (2025-05-20 21:11:52) =====
2025-05-20 21:11:52,928 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 전략 실행 상태: 실행 중, 최종 초기화 성공: True
2025-05-20 21:11:52,928 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 현재 상태 메시지: TR 데이터 처리 완료: opw00018 (계좌잔고조회_8101891811)
2025-05-20 21:11:52,932 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 계좌번호: 8101891811
2025-05-20 21:11:52,932 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 예수금 정보 로딩 중이거나 사용 불가.
2025-05-20 21:11:52,933 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 보유 종목 (1개):
2025-05-20 21:11:52,933 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 보유 종목 없음.
2025-05-20 21:11:52,933 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 미체결 주문 없음.
2025-05-20 21:11:52,934 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 관심 종목 (11개):
2025-05-20 21:11:52,934 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 수젠텍(253840): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,935 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 로킷헬스케어(376900): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,935 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 대명에너지(389260): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,936 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 원익(032940): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,936 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 진바이오텍(086060): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,937 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 싸이토젠(217330): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,937 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 에스엘에스바이오(246250): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,937 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 압타머사이언스(291650): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,938 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 삼성전자(005930): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,938 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - 카카오(035720): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,938 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52]   - AP시스템(105560): 현재가 N/A, 상태: WAITING
2025-05-20 21:11:52,938 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] 일일 매수 실행 횟수: 0 / 10
2025-05-20 21:11:52,939 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:11:52] ===========================================
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - Ctrl+C 입력 감지. 프로그램 즉시 종료 절차를 시작합니다...
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - 매매 전략 중지를 시도합니다...
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] TradingStrategy.stop() 메소드 시작됨.
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 전략 실행 플래그 (is_running)를 False로 설정했습니다.
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 미체결 주문 취소 시도...
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 미체결 주문 취소 시작...
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 취소할 미체결 주문이 없습니다.
2025-05-20 21:12:07,494 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 타이머 중지 시도...
2025-05-20 21:12:07,494 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] 조건 확인 타이머 중지됨.
2025-05-20 21:12:07,505 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] 주기적 상태 보고 타이머 중지됨.
2025-05-20 21:12:07,506 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] 일일 스냅샷 타이머 중지됨.
2025-05-20 21:12:07,509 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 관심 종목 실시간 데이터 구독 해제 시도...
2025-05-20 21:12:07,510 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 253840 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,511 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2002', Identifier='real_253840'. 사용중: 10, 사용가능: 90
2025-05-20 21:12:07,515 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 253840 using screen_no: 2002
2025-05-20 21:12:07,517 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 253840 removed from watchlist.
2025-05-20 21:12:07,518 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 376900 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,519 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2003', Identifier='real_376900'. 사용중: 9, 사용가능: 91
2025-05-20 21:12:07,520 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 376900 using screen_no: 2003
2025-05-20 21:12:07,521 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 376900 removed from watchlist.
2025-05-20 21:12:07,522 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 389260 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,523 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2004', Identifier='real_389260'. 사용중: 8, 사용가능: 92
2025-05-20 21:12:07,523 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 389260 using screen_no: 2004
2025-05-20 21:12:07,524 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 389260 removed from watchlist.
2025-05-20 21:12:07,525 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 032940 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,526 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2005', Identifier='real_032940'. 사용중: 7, 사용가능: 93
2025-05-20 21:12:07,526 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 032940 using screen_no: 2005
2025-05-20 21:12:07,527 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 032940 removed from watchlist.
2025-05-20 21:12:07,528 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 086060 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,529 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2006', Identifier='real_086060'. 사용중: 6, 사용가능: 94
2025-05-20 21:12:07,530 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 086060 using screen_no: 2006
2025-05-20 21:12:07,530 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 086060 removed from watchlist.
2025-05-20 21:12:07,531 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 217330 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,531 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2007', Identifier='real_217330'. 사용중: 5, 사용가능: 95
2025-05-20 21:12:07,532 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 217330 using screen_no: 2007
2025-05-20 21:12:07,533 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 217330 removed from watchlist.
2025-05-20 21:12:07,533 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 246250 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,534 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2008', Identifier='real_246250'. 사용중: 4, 사용가능: 96
2025-05-20 21:12:07,535 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 246250 using screen_no: 2008
2025-05-20 21:12:07,535 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 246250 removed from watchlist.
2025-05-20 21:12:07,536 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 291650 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,537 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2009', Identifier='real_291650'. 사용중: 3, 사용가능: 97
2025-05-20 21:12:07,537 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 291650 using screen_no: 2009
2025-05-20 21:12:07,537 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 291650 removed from watchlist.
2025-05-20 21:12:07,539 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 005930 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,540 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2010', Identifier='real_005930'. 사용중: 2, 사용가능: 98
2025-05-20 21:12:07,540 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 005930 using screen_no: 2010
2025-05-20 21:12:07,541 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 005930 removed from watchlist.
2025-05-20 21:12:07,541 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 035720 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,542 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2011', Identifier='real_035720'. 사용중: 1, 사용가능: 99
2025-05-20 21:12:07,542 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 035720 using screen_no: 2011
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 035720 removed from watchlist.
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] Removing 105560 from watchlist... Unsubscribe real data: True
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE] 화면 반환 완료: ScreenNo='2012', Identifier='real_105560'. 사용중: 0, 사용가능: 100
2025-05-20 21:12:07,543 - AppLogger - DEBUG - logger:81 - [Strategy][2025-05-20 21:12:07] Unsubscribed real data for 105560 using screen_no: 2012
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 105560 removed from watchlist.
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] ScreenManager 화면 정리 시도...
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [ScreenManager_CLEANUP] 모든 사용 중인 화면 정리 시작. 현재 사용중: 0개
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [ScreenManager_CLEANUP] 모든 화면 정리 완료. 사용중: 0, 사용가능: 100
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] 모든 화면 사용 해제 완료.
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] DB Manager 관련 리소스 정리 시도 (필요시 close 구현)
2025-05-20 21:12:07,543 - AppLogger - INFO - logger:84 - [Strategy][2025-05-20 21:12:07] TradingStrategy.stop() 메소드 완료됨.
2025-05-20 21:12:07,548 - AppLogger - INFO - logger:84 - 매매 전략이 중지되었습니다.
2025-05-20 21:12:07,548 - AppLogger - INFO - logger:84 - KiwoomAPI 리소스 해제 및 연결 종료를 시작합니다...
2025-05-20 21:12:07,548 - AppLogger - INFO - logger:84 - [KiwoomAPI] Kiwoom API 연결 종료 절차 시작...
2025-05-20 21:12:07,549 - AppLogger - INFO - logger:84 - [KiwoomAPI] 종료 모드가 활성화되었습니다.
2025-05-20 21:12:07,549 - AppLogger - INFO - logger:84 - [KiwoomAPI] 모든 실시간 데이터 구독 해제 시도...
2025-05-20 21:12:07,550 - AppLogger - INFO - logger:84 - [KiwoomAPI] 모든 실시간 데이터 구독 해제 요청됨 (SetRealRemove ALL, ALL).
2025-05-20 21:12:07,551 - AppLogger - DEBUG - logger:81 - [KiwoomAPI] 내부 실시간 데이터 구독 상태 (FID 목록) 초기화 완료.
2025-05-20 21:12:07,551 - AppLogger - INFO - logger:84 - [KiwoomAPI] 모든 실시간 데이터 구독 해제 요청 완료.
2025-05-20 21:12:07,552 - AppLogger - INFO - logger:84 - [KiwoomAPI] ScreenManager를 통해 모든 화면 리소스 해제 시도...
2025-05-20 21:12:07,554 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE_ALL] 관리 중인 모든 화면 해제 시작. 현재 사용중: 0개
2025-05-20 21:12:07,556 - AppLogger - WARNING - logger:87 - [ScreenManager_RELEASE_ALL] Kiwoom OCX 인스턴스가 없어 API 호출(DisconnectRealData)을 스킵합니다. 내부 상태만 초기화합니다.
2025-05-20 21:12:07,556 - AppLogger - INFO - logger:84 - [ScreenManager_RELEASE_ALL] 모든 화면 해제 및 내부 상태 초기화 완료. 사용 가능 화면: 100개
2025-05-20 21:12:07,557 - AppLogger - INFO - logger:84 - [KiwoomAPI] ScreenManager를 통한 화면 리소스 해제 완료.
2025-05-20 21:12:07,557 - AppLogger - INFO - logger:84 - [KiwoomAPI] Kiwoom OpenAPI CommTerminate 호출 시도...
2025-05-20 21:12:07,558 - AppLogger - INFO - logger:84 - [KiwoomAPI] [Dry Run] CommTerminate 호출 스킵.
2025-05-20 21:12:07,558 - AppLogger - INFO - logger:84 - [KiwoomAPI] Kiwoom API 연결 종료 절차 완료됨.
2025-05-20 21:12:07,558 - AppLogger - INFO - logger:84 - KiwoomAPI 연결 해제 절차 호출 완료.
2025-05-20 21:12:07,559 - AppLogger - WARNING - logger:87 - DB 인스턴스 또는 close_connection 메소드를 찾을 수 없습니다.
2025-05-20 21:12:07,559 - AppLogger - INFO - logger:84 - QApplication 종료를 시도합니다.
2025-05-20 21:12:07,560 - AppLogger - INFO - logger:84 - QApplication.quit() 호출됨.
2025-05-20 21:12:07,560 - AppLogger - INFO - logger:84 - 프로그램이 정상적으로 종료될 예정입니다.
2025-05-20 21:12:07,560 - AppLogger - INFO - logger:84 - 프로그램 최종 정리 작업 수행...
2025-05-20 21:12:07,560 - AppLogger - INFO - logger:84 - 프로그램이 종료됩니다.
